<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style.css">

    <title>Conversion</title>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-NG01BSD1ZF"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-NG01BSD1ZF');
    </script>
  </head>
  <body>

    <%- include ('../layout/header') %>

    <main>
        <div class="container">
            <div class="container p-2">
              <h5 class="text-center">Convert Count</h5>
            </div>
            <form action="/convert" method="POST">
                <div class="mb-3">
                  <label for="count" class="form-label">Count</label>
                  <input type="number" step="0.00001" class="form-control" id="count" name="count">
                </div>
                <div class="mb-3">
                    <label for="selectCountSystem" class="form-label">Select Count System</label>
                    <select class="form-control" name="system" id="system">
                      <option value="tex">Tex</option>
                      <option value="den">Denier</option>
                      <option value="lbps">Jute Count (lbs/spy)</option>
                      <option value="ne">English Count (N<sub>e</sub>)</option>
                      <option value="nm">Metric Count (N<sub>m</sub>)</option>
                      <option value="nes">Woollen Count (N<sub>e</sub>S)</option>
                      <option value="new">Worsted Count (N<sub>e</sub>W)</option>
                      <option value="nel">Linen Count (N<sub>e</sub>L)</option>
                      
                    </select>
                </div>
                  
                <button type="submit" class="btn btn-light btn-outline-success">Convert</button>
                  
              </form>
        </div>


        <% if (data) { %>
        <div class="container p-5">

            <caption><h5 class="text-center">Equivalent to <%= data.fromCount %> <%= data.fromSys %></h5></caption>
            <table class="table table-striped table-hover tabel-success">
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Count System</th>
                    <th scope="col">Count</th>
                  </tr>
                </thead>
                <tbody>
                    <% for( let item in data.data) { %>
                        <tr>
                            <th scope="row"><%= counter %></th>
                            <td><%= item %></td>
                            <td><%= data.data[item].toFixed(4) %></td>
                        </tr>
                        <% counter += 1 %>
                    <% } %>
                  
                </tbody>
              </table>

        </div>
        <% } %>

        <% if (isCountZero) { %>
          <div class="container warning">
            <p class="info-warning">Note: Count can't be 0 or empty</p>
          </div>
        <% } %>

    </main>
    



    <%- include ('../layout/footer') %>
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  </body>
</html>